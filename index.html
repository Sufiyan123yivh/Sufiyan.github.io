<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MPD URL Extractor</title>
</head>
<body>
    <h1>MPD URL Extractor</h1>
    <p>Please check the browser's console for the extracted MPD URL.</p>
    <script>
        // The URL you want to extract the MPD from
        const targetUrl = 'https://pwthor.site/pwplayer.html?encrypted=OlnSd%2BFaNKzDSN5t%2Bxdf4MjnciDiVrArOPOaUjpBfpyi%2BdJg9weL04xWR7zs2bsInCwAifUvMKZZ%2B6wzaSCzAcbsNaeyo3ND42OwJTt0rlApOnPu0u4ppv2l3r%2BtDpfLJ2dnjjFKLOzbbWmE1MbDHWaaudlFzpWVd84H2P757UAXNd%2FAvuEYLJ91KipN58ajMmqAXn5RfDAa3XtDxv487xxXn%2B4Xzs%2F%2F0cTNlg%2BYv4TcW0QKtyjETDooyEH1uhfmJZEVYz%2FNEcBuzGG9LbC%2BwKQCdBXplezQbWqNCIT8a6J%2B76rZie34CuYAScAMUT1fJgRtkCKQu7mEy1uUKwnbJnfjjE3%2Ft5X%2FEzP3UXhlIVcJyODwRvJSSdhHSfmGDtQP8%2F%2Fwc8zVJ1wzO1xHkQApcGrZVJtfbWkUZrl7YIF3V3xQrCv3Pn4iLAkRchyHuJhH&iv=j8f3JPI70%2FF3X7Ro8IqKdA%3D%3D';

        fetch(targetUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.text();
            })
            .then(html => {
                // Use a regular expression to find a URL ending with .mpd
                const mpdRegex = /(https?:\/\/[^\s"]*\.mpd)/;
                const match = html.match(mpdRegex);

                if (match) {
                    console.log('Found MPD URL:', match[1]);
                    document.body.innerHTML += `<p>Found MPD URL: <strong>${match[1]}</strong></p>`;
                } else {
                    console.log('MPD URL not found.');
                    document.body.innerHTML += '<p>MPD URL not found.</p>';
                }
            })
            .catch(error => {
                console.error('There has been a problem with your fetch operation:', error);
                document.body.innerHTML += `<p style="color: red;">Error: ${error.message}. This is likely a CORS issue. To resolve this, you might need to use a browser extension or a local proxy server.</p>`;
            });
    </script>
</body>
</html>
